<!-- Dashboard View Component -->
<div id="dashboard-view" class="view">
    <div class="container">
        <div class="dashboard-header">
            <h1>Test Results Dashboard</h1>
            <p>Analyze your performance across different subjects and chapters</p>
            <button id="back-to-home" class="btn btn--secondary">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5"></path>
                    <polyline points="12,19 5,12 12,5"></polyline>
                </svg>
                Back to Home
            </button>
        </div>

        <!-- Statistics Cards -->
        <div class="dashboard-stats">
            <div class="stat-card">
                <div class="stat-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="8.5" cy="7" r="4"></circle>
                        <polyline points="17,11 19,13 23,9"></polyline>
                    </svg>
                </div>
                <div class="stat-info">
                    <h3 id="total-attempts">0</h3>
                    <p>Total Attempts</p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"></polyline>
                    </svg>
                </div>
                <div class="stat-info">
                    <h3 id="average-score">0%</h3>
                    <p>Average Score</p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"></polygon>
                    </svg>
                </div>
                <div class="stat-info">
                    <h3 id="best-score">0%</h3>
                    <p>Best Score</p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14,2 14,8 20,8"></polyline>
                    </svg>
                </div>
                <div class="stat-info">
                    <h3 id="unique-tests">0</h3>
                    <p>Tests Taken</p>
                </div>
            </div>
        </div>

        <!-- Filters -->
        <div class="dashboard-filters">
            <div class="filter-group">
                <label for="subject-filter-dashboard">Subject:</label>
                <select id="subject-filter-dashboard" class="form-control">
                    <option value="">All Subjects</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="chapter-filter-dashboard">Chapter:</label>
                <select id="chapter-filter-dashboard" class="form-control">
                    <option value="">All Chapters</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="start-date-filter">From:</label>
                <input type="date" id="start-date-filter" class="form-control">
            </div>
            
            <div class="filter-group">
                <label for="end-date-filter">To:</label>
                <input type="date" id="end-date-filter" class="form-control">
            </div>
            
            <div class="filter-group">
                <button id="apply-filters" class="btn btn--primary">Apply Filters</button>
                <button id="clear-filters" class="btn btn--secondary">Clear</button>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="dashboard-charts">
            <div class="chart-container">
                <div class="chart-header">
                    <h3>Performance by Subject</h3>
                    <div class="chart-legend">
                        <span class="legend-item">
                            <span class="legend-color" style="background-color: #4CAF50;"></span>
                            Average Score
                        </span>
                        <span class="legend-item">
                            <span class="legend-color" style="background-color: #2196F3;"></span>
                            Best Score
                        </span>
                    </div>
                </div>
                <canvas id="subject-chart" width="400" height="200"></canvas>
            </div>
            
            <div class="chart-container">
                <div class="chart-header">
                    <h3>Performance Trends (Last 30 Days)</h3>
                </div>
                <canvas id="trends-chart" width="400" height="200"></canvas>
            </div>
        </div>

        <!-- Results Tables -->
        <div class="dashboard-tables">
            <!-- By Subject Table -->
            <div class="table-container">
                <div class="table-header">
                    <h3>Results by Subject</h3>
                    <div class="table-actions">
                        <button id="export-subject-data" class="btn btn--secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7,10 12,15 17,10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Export
                        </button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="subject-results-table" class="results-table">
                        <thead>
                            <tr>
                                <th>Subject</th>
                                <th>Section</th>
                                <th>Attempts</th>
                                <th>Average Score</th>
                                <th>Best Score</th>
                                <th>Lowest Score</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="loading-row">
                                <td colspan="6">
                                    <div class="loading-spinner"></div>
                                    Loading subject data...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- By Chapter Table -->
            <div class="table-container">
                <div class="table-header">
                    <h3>Results by Chapter</h3>
                    <div class="table-actions">
                        <button id="export-chapter-data" class="btn btn--secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7,10 12,15 17,10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Export
                        </button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="chapter-results-table" class="results-table">
                        <thead>
                            <tr>
                                <th>Subject</th>
                                <th>Chapter</th>
                                <th>Section</th>
                                <th>Attempts</th>
                                <th>Average Score</th>
                                <th>Best Score</th>
                                <th>Lowest Score</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="loading-row">
                                <td colspan="7">
                                    <div class="loading-spinner"></div>
                                    Loading chapter data...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Recent Results Table -->
            <div class="table-container">
                <div class="table-header">
                    <h3>Recent Test Results</h3>
                    <div class="table-actions">
                        <button id="refresh-recent" class="btn btn--secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23,4 23,10 17,10"></polyline>
                                <polyline points="1,20 1,14 7,14"></polyline>
                                <path d="M20.49,9A9,9,0,0,0,5.64,5.64L1,10m22,4L18.36,18.36A9,9,0,0,1,3.51,15"></path>
                            </svg>
                            Refresh
                        </button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="recent-results-table" class="results-table">
                        <thead>
                            <tr>
                                <th>Test File</th>
                                <th>Section</th>
                                <th>Subject</th>
                                <th>Chapter</th>
                                <th>Score</th>
                                <th>Percentage</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="loading-row">
                                <td colspan="7">
                                    <div class="loading-spinner"></div>
                                    Loading recent results...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Status Messages -->
        <div id="dashboard-status" class="status-message hidden"></div>
    </div>
</div>